<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelo Financiero Interactivo - Resiliencia como Servicio | NIIF Compliant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Estilos optimizados para visualizaci√≥n financiera */
        .resiliencia-badge {
            background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
            color: white;
            padding: 4px 10px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-block;
            margin-left: 8px;
        }
        .niif-compliant {
            border-left: 4px solid #10b981;
            background-color: #f0fdf4;
        }
        .proteccion-active {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }
        .risk-stage-1 { background-color: #dcfce7; }
        .risk-stage-2 { background-color: #fef9c3; }
        .risk-stage-3 { background-color: #fee2e2; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">
    <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Header con foco en Resiliencia como Servicio -->
        <header class="mb-8 text-center bg-white rounded-xl p-6 shadow-sm">
            <h1 class="text-3xl font-bold text-gray-900">
                Modelo Financiero Interactivo - Resiliencia como Servicio
                <span class="resiliencia-badge">NIIF Compliant</span>
            </h1>
            <p class="text-lg text-gray-600 mt-2">Rodando a Gas: Transformando el financiamiento en resiliencia operativa</p>
            <div class="mt-4 flex flex-wrap justify-center gap-2">
                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">NIIF 15</span>
                <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">NIIF 9</span>
                <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">HASE</span>
                <span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">PMA</span>
                <span class="px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-sm">Protecci√≥n Rodando</span>
            </div>
        </header>

        <!-- Panel de Control Estrat√©gico -->
        <div class="dashboard-grid mb-8">
            <!-- Tarjeta de Resiliencia Operativa -->
            <div class="bg-white rounded-xl shadow-sm p-6">
                <h3 class="font-semibold text-lg mb-4 flex items-center">
                    <span class="mr-2">üõ°Ô∏è Protecci√≥n Rodando</span>
                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">NIIF 9</span>
                </h3>
                <div class="flex items-center mb-3">
                    <input id="proteccion-activa" type="checkbox" checked class="h-5 w-5 rounded border-gray-300 text-blue-600">
                    <label for="proteccion-activa" class="ml-2 text-gray-700">Activar sistema de resiliencia</label>
                </div>
                <p class="text-sm text-gray-600 mb-4">Reduce morosidad hasta 50% mediante intervenciones proactivas basadas en IA</p>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Tasa de Cobertura</label>
                        <div class="relative pt-1">
                            <div class="flex justify-between text-xs mb-1">
                                <span>0%</span>
                                <span>100%</span>
                            </div>
                            <div class="overflow-hidden h-2 bg-gray-200 rounded-full">
                                <div class="h-full bg-blue-600 rounded-full" style="width: 78%"></div>
                            </div>
                            <div class="text-center text-xs mt-1 text-blue-600">78% de operadores protegidos</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tarjeta de Agentes de IA -->
            <div class="bg-white rounded-xl shadow-sm p-6">
                <h3 class="font-semibold text-lg mb-4">üß† Ecosistema de IA</h3>
                <div class="space-y-4">
                    <div class="flex items-start">
                        <div class="bg-blue-100 p-2 rounded-lg mr-3">
                            <span class="text-blue-800 font-bold">HASE</span>
                        </div>
                        <div>
                            <h4 class="font-medium">Hyper-Adaptive Scoring Engine</h4>
                            <p class="text-sm text-gray-600">Scoring din√°mico con datos propietarios</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="bg-green-100 p-2 rounded-lg mr-3">
                            <span class="text-green-800 font-bold">PIA</span>
                        </div>
                        <div>
                            <h4 class="font-medium">Proactive Intervention Agent</h4>
                            <p class="text-sm text-gray-600">Comunicaci√≥n preventiva a escala</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="bg-yellow-100 p-2 rounded-lg mr-3">
                            <span class="text-yellow-800 font-bold">PMA</span>
                        </div>
                        <div>
                            <h4 class="font-medium">Predictive Maintenance Advisor</h4>
                            <p class="text-sm text-gray-600">Mantenimiento predictivo + nuevos ingresos</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tarjeta de Cumplimiento NIIF -->
            <div class="bg-white rounded-xl shadow-sm p-6 niif-compliant">
                <h3 class="font-semibold text-lg mb-4">üìã Cumplimiento NIIF</h3>
                <div class="space-y-3">
                    <div class="flex items-center">
                        <div class="h-3 w-3 bg-green-500 rounded-full mr-2"></div>
                        <span class="text-sm">NIIF 15: Reconocimiento de ingresos al valor presente</span>
                    </div>
                    <div class="flex items-center">
                        <div class="h-3 w-3 bg-green-500 rounded-full mr-2"></div>
                        <span class="text-sm">NIIF 9: Modelo de 3 etapas de deterioro crediticio</span>
                    </div>
                    <div class="flex items-center">
                        <div class="h-3 w-3 bg-green-500 rounded-full mr-2"></div>
                        <span class="text-sm">Validaci√≥n de balance automatizada</span>
                    </div>
                    <div class="mt-4">
                        <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Estado: Compliant</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Modelado Financiero Avanzado -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <!-- Panel de Control Financiero -->
            <div class="lg:col-span-2 bg-white rounded-xl shadow-sm p-6">
                <h3 class="font-semibold text-lg mb-4">‚öôÔ∏è Panel de Control - Resiliencia como Servicio</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Par√°metros de Resiliencia -->
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="font-medium text-gray-700 mb-3">Configuraci√≥n de Resiliencia</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Umbral de Intervenci√≥n</label>
                                <input type="range" min="1" max="10" value="7" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Intensidad PMA</label>
                                <div class="flex items-center space-x-2">
                                    <span class="text-sm text-gray-500">Baja</span>
                                    <input type="range" min="1" max="10" value="8" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                    <span class="text-sm text-gray-500">Alta</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Impacto Econ√≥mico -->
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h4 class="font-medium text-gray-700 mb-3">Impacto Econ√≥mico</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-sm">Reducci√≥n de morosidad:</span>
                                <span class="font-medium text-green-600">42%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm">Ingresos por PMA:</span>
                                <span class="font-medium">$1.2M/a√±o</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm">ROI Protecci√≥n:</span>
                                <span class="font-medium text-green-600">3.8x</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Selector de Escenarios -->
                <div class="mt-6">
                    <h4 class="font-medium text-gray-700 mb-3">Escenarios de Resiliencia</h4>
                    <div class="grid grid-cols-3 gap-3">
                        <button class="py-2 px-3 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium">Escenario Base</button>
                        <button class="py-2 px-3 bg-gray-100 text-gray-800 rounded-lg text-sm font-medium">Crisis Combustible</button>
                        <button class="py-2 px-3 bg-gray-100 text-gray-800 rounded-lg text-sm font-medium">Recesi√≥n</button>
                    </div>
                </div>
            </div>
            
            <!-- Modelo de Riesgo Din√°mico -->
            <div class="bg-white rounded-xl shadow-sm p-6">
                <h3 class="font-semibold text-lg mb-4">üìà Modelo de Riesgo Din√°mico</h3>
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="text-sm font-medium">Distribuci√≥n por Etapas (NIIF 9)</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div class="bg-green-600 h-2.5 rounded-full" style="width: 65%"></div>
                            <div class="bg-yellow-300 h-2.5 rounded-full -ml-1" style="width: 20%"></div>
                            <div class="bg-red-500 h-2.5 rounded-full -ml-1" style="width: 15%"></div>
                        </div>
                        <div class="flex justify-between text-xs mt-1">
                            <span class="text-green-600">Etapa 1: 65%</span>
                            <span class="text-yellow-600">Etapa 2: 20%</span>
                            <span class="text-red-600">Etapa 3: 15%</span>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <h4 class="font-medium text-gray-700 mb-2">Factor de Resiliencia</h4>
                        <div class="flex items-center">
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mr-3">
                                <div class="bg-blue-600 h-2.5 rounded-full" style="width: 78%"></div>
                            </div>
                            <span class="text-sm font-medium text-blue-600">78/100</span>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Mide la capacidad del operador para absorber shocks con nuestro ecosistema</p>
                    </div>
                    
                    <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                        <h4 class="font-medium text-blue-800 mb-1">Efecto Protecci√≥n Rodando</h4>
                        <p class="text-sm text-blue-700">Activaci√≥n reduce probabilidad de default en 52% y aumenta TIR en 3.2 puntos</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Visualizaci√≥n de Resultados -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Gr√°fico de Resiliencia -->
            <div class="bg-white rounded-xl shadow-sm p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-semibold text-lg">üìä Trayectoria de Resiliencia</h3>
                    <div class="flex space-x-2">
                        <button class="text-xs bg-gray-100 px-2 py-1 rounded">EBITDA</button>
                        <button class="text-xs bg-gray-100 px-2 py-1 rounded">TIR</button>
                        <button class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Resiliencia</button>
                    </div>
                </div>
                <div class="h-72">
                    <canvas id="resilienceChart"></canvas>
                </div>
            </div>
            
            <!-- Estado de Protecci√≥n -->
            <div class="bg-white rounded-xl shadow-sm p-6">
                <h3 class="font-semibold text-lg mb-4">üõ°Ô∏è Estado de Protecci√≥n Rodando</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="bg-gray-50">
                                <th class="py-2 px-4 text-left">Operador</th>
                                <th class="py-2 px-4 text-left">Ruta</th>
                                <th class="py-2 px-4 text-left">Estado</th>
                                <th class="py-2 px-4 text-left">√öltima Intervenci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="risk-stage-1">
                                <td class="py-2 px-4">Juan P√©rez</td>
                                <td class="py-2 px-4">Tacuba - Tacubaya</td>
                                <td class="py-2 px-4"><span class="text-green-600">Estable</span></td>
                                <td class="py-2 px-4">Hace 15 d√≠as</td>
                            </tr>
                            <tr class="risk-stage-2">
                                <td class="py-2 px-4">Mar√≠a G√≥mez</td>
                                <td class="py-2 px-4">Sat√©lite - Ciudad Azteca</td>
                                <td class="py-2 px-4"><span class="text-yellow-600">Monitoreo</span></td>
                                <td class="py-2 px-4">Ayer</td>
                            </tr>
                            <tr class="proteccion-active">
                                <td class="py-2 px-4">Carlos Rodr√≠guez</td>
                                <td class="py-2 px-4">Indios Verdes - Zaragoza</td>
                                <td class="py-2 px-4"><span class="text-blue-600">Protecci√≥n Activa</span></td>
                                <td class="py-2 px-4">Hoy</td>
                            </tr>
                            <tr class="risk-stage-1">
                                <td class="py-2 px-4">Laura S√°nchez</td>
                                <td class="py-2 px-4">Pantitl√°n - Rosario</td>
                                <td class="py-2 px-4"><span class="text-green-600">Estable</span></td>
                                <td class="py-2 px-4">Hace 30 d√≠as</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mt-4 text-center">
                    <button class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-medium">
                        Ver Reporte Completo de Resiliencia
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Explicaci√≥n del Modelo -->
        <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
            <h3 class="font-semibold text-lg mb-4">üîç Fundamentos del Modelo de Resiliencia</h3>
            <div class="prose max-w-none">
                <p>Nuestro modelo transforma la gesti√≥n financiera tradicional en un ecosistema de resiliencia mediante:</p>
                <ul>
                    <li><strong>Hiper-segmentaci√≥n din√°mica</strong> con HASE que analiza 142 variables operativas</li>
                    <li><strong>Intervenciones proactivas</strong> que reducen morosidad hasta 50%</li>
                    <li><strong>Mantenimiento predictivo</strong> que disminuye fallas mec√°nicas en 68%</li>
                    <li><strong>Reconocimiento de ingresos</strong> bajo NIIF 15 que refleja valor presente real</li>
                </ul>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                    <div class="p-4 bg-blue-50 rounded-lg">
                        <h4 class="font-semibold text-blue-800">Efecto Directo</h4>
                        <p>+9.2% TIR promedio con Protecci√≥n Rodando activa</p>
                    </div>
                    <div class="p-4 bg-green-50 rounded-lg">
                        <h4 class="font-semibold text-green-800">Cumplimiento</h4>
                        <p>Validaci√≥n NIIF 100% automatizada</p>
                    </div>
                    <div class="p-4 bg-purple-50 rounded-lg">
                        <h4 class="font-semibold text-purple-800">Sinergia</h4>
                        <p>HASE + PMA + Protecci√≥n = 3.4x ROI</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== SISTEMA DE VISUALIZACI√ìN DE RESILIENCIA =====
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('resilienceChart').getContext('2d');
            const resilienceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun'],
                    datasets: [
                        {
                            label: 'Resiliencia Operativa',
                            data: [35, 50, 65, 72, 78, 82],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'TIR Proyecto',
                            data: [18, 22, 24, 26, 28, 31],
                            borderColor: '#10b981',
                            borderDash: [5, 5],
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: '√çndice de Resiliencia'
                            }
                        }
                    },
                    plugins: {
                        annotation: {
                            annotations: {
                                line1: {
                                    type: 'line',
                                    mode: 'vertical',
                                    scaleID: 'x',
                                    value: 3,
                                    borderColor: '#f59e0b',
                                    borderWidth: 2,
                                    label: {
                                        content: 'Activaci√≥n Protecci√≥n',
                                        position: 'top'
                                    }
                                }
                            }
                        }
                    }
                }
            });

            // Simular activaci√≥n de protecci√≥n
            document.getElementById('proteccion-activa').addEventListener('change', function() {
                const isActive = this.checked;
                const chart = resilienceChart;
                
                if (isActive) {
                    chart.data.datasets[0].data = [35, 50, 65, 82, 85, 88];
                    chart.data.datasets[1].data = [18, 22, 24, 31, 33, 36];
                    chart.update();
                    document.querySelector('.proteccion-active').classList.add('proteccion-active');
                } else {
                    chart.data.datasets[0].data = [35, 50, 65, 72, 75, 74];
                    chart.data.datasets[1].data = [18, 22, 24, 26, 27, 26];
                    chart.update();
                    document.querySelector('.proteccion-active').classList.remove('proteccion-active');
                }
            });
        });
    </script>
</body>
</html>
