<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rodando a Gas: Ecosistema de Resiliencia Operativa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Dark Slate & Vibrant Accents (from Pitch Deck) -->
    <!-- Application Structure Plan: La SPA se organiza en pesta√±as tem√°ticas para una exploraci√≥n no lineal: 1) Visi√≥n General (problema, soluci√≥n, flywheel), 2) Modelo de Negocio (financiamiento, pagos, servicios), 3) Ventaja Competitiva (validaci√≥n, fosos), 4) Ecosistema de IA (HASE, PIA, PMA, XAI, Behavioral Science, FL), 5) Arquitectura y Ejecuci√≥n (blueprint, requerimientos, proveedores, MLOps), 6) Procesos Clave (simulaciones de onboarding, protecci√≥n rodando, PMA), 7) Monitoreo y Dashboards (KPIs, salud de datos, deriva), y 8) Roadmap (plan de implementaci√≥n). Esta estructura permite al usuario sumergirse en √°reas espec√≠ficas de inter√©s, facilitando la comprensi√≥n de la propuesta de valor disruptiva de RAG. -->
    <!-- Visualization & Content Choices:
        - KPIs Clave: Informaci√≥n del Reporte (TIR, Morosidad, Escalabilidad) -> Objetivo (Informar r√°pidamente el impacto) -> Visualizaci√≥n (Tarjetas de m√©tricas con Tailwind) -> Interacci√≥n (N/A) -> Justificaci√≥n (Visualiza de forma concisa el rendimiento).
        - L√≠nea de Tiempo de Placas: Informaci√≥n del Reporte (Formatos de placas, rol de MDM) -> Objetivo (Mostrar complejidad y soluci√≥n de estandarizaci√≥n) -> Visualizaci√≥n (L√≠nea de tiempo HTML/CSS) -> Interacci√≥n (Click en hitos para detalles) -> Justificaci√≥n (Mejora la comprensi√≥n del desaf√≠o de datos hist√≥ricos).
        - Diagrama de Arquitectura: Informaci√≥n del Reporte (Flujo Kafka -> Flink -> HASE -> PIA) -> Objetivo (Explicar el flujo de datos) -> Visualizaci√≥n (HTML/Tailwind con iconos Unicode) -> Interacci√≥n (Hover para descripci√≥n) -> Justificaci√≥n (Muestra la infraestructura sin SVG/Mermaid).
        - Simulador de Riesgo HASE: Informaci√≥n del Reporte (F√≥rmula P_default, variables) -> Objetivo (Demostrar la l√≥gica de scoring) -> Visualizaci√≥n (Sliders HTML, Gr√°fico de Gauge con Chart.js) -> Interacci√≥n (Ajustar sliders para ver impacto en riesgo y acci√≥n PIA) -> Justificaci√≥n (Tangibiliza un concepto complejo de IA).
        - Simulaciones de Procesos (Onboarding, Protecci√≥n Rodando, PMA): Informaci√≥n del Reporte (Wireframes descritos) -> Objetivo (Visualizar flujos de usuario y sistema) -> Visualizaci√≥n (Mockups HTML/CSS) -> Interacci√≥n (N/A para mockups, click en secciones del mockup para m√°s info) -> Justificaci√≥n (Aclara procesos clave de negocio y tecnolog√≠a).
        - Dashboards de Monitoreo: Informaci√≥n del Reporte (KPIs de flota, tendencias GNV, salud de datos, deriva del modelo) -> Objetivo (Proporcionar visi√≥n operativa) -> Visualizaci√≥n (HTML/CSS con Chart.js) -> Interacci√≥n (N/A, pero base para futuros filtros) -> Justificaci√≥n (Muestra la capacidad de monitoreo de RAG).
        - Gesti√≥n de Proveedores (Criterios): Informaci√≥n del Reporte (Tabla de preguntas) -> Objetivo (Mostrar rigor en selecci√≥n) -> Visualizaci√≥n (Acorde√≥n HTML/JS) -> Interacci√≥n (Expandir/colapsar) -> Justificaci√≥n (Presenta informaci√≥n densa de forma organizada).
        - Roadmap de Implementaci√≥n: Informaci√≥n del Reporte (Fases, componentes, KPIs) -> Objetivo (Visualizar el plan estrat√©gico) -> Visualizaci√≥n (L√≠nea de tiempo/lista detallada HTML/CSS) -> Interacci√≥n (Click para resaltar fase) -> Justificaci√≥n (Ofrece una visi√≥n clara de la ejecuci√≥n).
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #e2e8f0; }
        .tab-active { border-color: #0ea5e9; color: #e2e8f0; background-color: #1e293b; }
        .tab-inactive { border-color: transparent; color: #94a3b8; }
        .section { display: none; }
        .section-active { display: block; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .roadmap-item-active .roadmap-content { max-height: 500px; opacity: 1; transform: translateY(0); }
        .roadmap-content { max-height: 0; overflow: hidden; transition: all 0.5s ease-in-out; opacity: 0; transform: translateY(-10px); }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .simulated-map {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 4px;
            width: 100%;
            height: 200px;
            border-radius: 8px;
            overflow: hidden;
        }
        .map-cell {
            background-color: #1e293b;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            color: #94a3b8;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .map-cell.risk-low { background-color: #0f172a; border: 1px solid #047857; color: #34d399;}
        .map-cell.risk-medium { background-color: #0f172a; border: 1px solid #d97706; color: #fbbf24;}
        .map-cell.risk-high { background-color: #0f172a; border: 1px solid #be123c; color: #f87171;}
        .card-dark {
            background-color: #0f172a;
            padding: 1.5rem;
            border-radius: 1rem;
            border: 1px solid #1e293b;
            backdrop-filter: blur(5px);
            height: 100%;
        }
        .highlight-text {
            background: -webkit-linear-gradient(45deg, #22d3ee, #0ea5e9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .slider-thumb::-webkit-slider-thumb {
            background-color: #0ea5e9;
        }
        .slider-thumb::-moz-range-thumb {
            background-color: #0ea5e9;
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white">Explorador Interactivo del Ecosistema Rodando a Gas</h1>
            <p class="text-lg text-slate-400 mt-2">Una visi√≥n din√°mica de la estrategia de "Resiliencia como Servicio" en movilidad y financiamiento.</p>
        </header>

        <nav class="mb-8 flex flex-wrap justify-center border-b border-slate-700">
            <button data-tab="vision-general" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Visi√≥n General</button>
            <button data-tab="modelo-negocio" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Modelo de Negocio</button>
            <button data-tab="ventaja-competitiva" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Ventaja Competitiva</button>
            <button data-tab="ecosistema-ia" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Ecosistema de IA</button>
            <button data-tab="arquitectura-ejecucion" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Arquitectura y Ejecuci√≥n</button>
            <button data-tab="procesos-clave" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Procesos Clave</button>
            <button data-tab="monitoreo-dashboards" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Monitoreo y Dashboards</button>
            <button data-tab="roadmap" class="nav-tab text-sm md:text-base font-medium py-3 px-3 sm:px-6 border-b-2 transition-all duration-300">Roadmap</button>
        </nav>

        <main>
            <section id="vision-general" class="section">
                <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">Una Crisis Sist√©mica de $10.9 Mil Millones</h2>
                    <p class="text-slate-300 mb-6">El riesgo no es el operador, es el modelo financiero obsoleto. En M√©xico, m√°s de 15,000 vagonetas en el Estado de M√©xico han superado su vida √∫til, representando un problema operativo, de seguridad y ambiental. Los operadores, a menudo no bancarizados, quedan atrapados en un ciclo de deuda por esquemas de financiamiento informales con tasas predatorias (>40%).</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-lg font-semibold text-rose-400">Flota Obsoleta</h3>
                            <p class="text-3xl font-bold text-white mt-1">15,000+</p>
                            <p class="text-sm text-slate-400">Vagonetas en EDOMEX</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-lg font-semibold text-amber-400">Vac√≠o Financiero</h3>
                            <p class="text-3xl font-bold text-white mt-1"> >40% </p>
                            <p class="text-sm text-slate-400">Tasas Predatorias</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-lg font-semibold text-purple-400">Oportunidad de Mercado</h3>
                            <p class="text-3xl font-bold text-white mt-1">$10.9 B</p>
                            <p class="text-sm text-slate-400">MXN Anuales</p>
                        </div>
                    </div>

                    <h2 class="text-2xl font-bold mb-4 text-white mt-12">La Soluci√≥n: Resiliencia como Servicio</h2>
                    <p class="text-slate-300 mb-6">Rodando a Gas es una plataforma **humanamente tecnol√≥gica** que redefine el financiamiento. Cambiamos el juego de "Cobranza" a "Soporte Proactivo", ofreciendo un Ecosistema de Resiliencia Operativa que garantiza la continuidad y rentabilidad del negocio del transportista.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-center mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-lg font-semibold text-sky-400">TIR de Cartera Objetivo</h3>
                            <p class="text-3xl font-bold text-white mt-1 highlight-text">&ge;22.8%</p>
                            <p class="text-sm text-slate-400">Incluso con flexibilidad</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-lg font-semibold text-emerald-400">Tasa de Morosidad Objetivo</h3>
                            <p class="text-3xl font-bold text-white mt-1 highlight-text">&lt;8%</p>
                            <p class="text-sm text-slate-400">vs. 15-20% del Sector</p>
                        </div>
                    </div>

                    <h3 class="text-2xl font-bold mb-4 text-white mt-12">El C√≠rculo Virtuoso (Flywheel) de RAG Potenciado</h3>
                    <p class="text-slate-300 mb-6">Nuestro modelo no solo crece, se fortalece con la escala. La integraci√≥n de nuestra tecnolog√≠a de IA acelera exponencialmente este ciclo de crecimiento auto-reforzado.</p>
                    <div class="relative w-80 h-80 md:w-96 md:h-96 mx-auto mb-8">
                        <div class="absolute inset-0 border-4 border-sky-500/30 rounded-full animate-spin" style="animation-duration: 40s;"></div>
                        <div class="absolute inset-4 border-2 border-sky-500/20 rounded-full animate-spin" style="animation-duration: 30s; animation-direction: reverse;"></div>
                        <div class="absolute inset-8 flex items-center justify-center text-center">
                            <div>
                                <span class="text-4xl">üîÑ</span>
                                <p class="font-bold text-white text-2xl mt-2">Flywheel</p>
                            </div>
                        </div>
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 -mt-4 text-center w-32 text-sm"><span class="text-lg">‚ú®</span><p>Producto Superior</p></div>
                        <div class="absolute right-0 top-1/2 -translate-y-1/2 mt-4 text-center w-32 text-sm"><span class="text-lg">üìà</span><p>M√°s Datos</p></div>
                        <div class="absolute bottom-0 left-1/2 -translate-x-1/2 mb-4 text-center w-32 text-sm"><span class="text-lg">üß†</span><p>IA m√°s Inteligente</p></div>
                        <div class="absolute left-0 top-1/2 -translate-y-1/2 -mt-4 text-center w-32 text-sm"><span class="text-lg">üìâ</span><p>Menos Impagos</p></div>
                    </div>
                    <ul class="list-disc list-inside text-slate-300 space-y-2">
                        <li><strong>Atraer a los Mejores Operadores con un Producto Superior:</strong> Nuestra propuesta de "Resiliencia como Servicio" se enriquece con m√≥dulos de gamificaci√≥n y "nudges" conductuales, haciendo la experiencia m√°s atractiva.</li>
                        <li><strong>Recolectar Datos Propietarios de Alta Calidad:</strong> Cada operador alimenta el sistema con datos operativos, de mantenimiento (PMA) y de comportamiento en tiempo real, ensanchando nuestro foso de datos.</li>
                        <li><strong>Refinar Modelos de IA Exponencialmente:</strong> El creciente volumen de datos permite entrenar y refinar nuestros agentes de IA (HASE, PIA, PMA). La integraci√≥n de XAI y la visi√≥n del Aprendizaje Federado prometen un salto cu√°ntico en la inteligencia del modelo.</li>
                        <li><strong>Reducir la P_default y las P√©rdidas Crediticias:</strong> Un scoring m√°s inteligente, combinado con intervenciones conductualmente optimizadas y mantenimiento predictivo, conduce a una reducci√≥n dr√°stica de la morosidad.</li>
                        <li><strong>Lograr Retornos Superiores y Resilientes:</strong> Una cartera de alta calidad, cuya resiliencia es validada por stress testing, aumenta la confianza de los inversores, permitiendo acceso a capital en mejores condiciones.</li>
                        <li><strong>Ofrecer T√©rminos M√°s Competitivos:</strong> Con acceso a capital m√°s barato y un profundo entendimiento del riesgo, podemos ofrecer condiciones de financiamiento a√∫n m√°s atractivas, fortaleciendo nuestra propuesta de valor.</li>
                        <li><strong>Atraer Socios al Ecosistema y Reiniciar el Ciculo:</strong> Un producto superior no solo atrae a m√°s operadores, sino que tambi√©n incentiva a otros actores del ecosistema (aseguradoras, talleres) a unirse a la red de Aprendizaje Federado, solidificando nuestro liderazgo.</li>
                    </ul>
                </div>
            </section>

            <section id="modelo-negocio" class="section">
                <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">Producto Principal: Financiamiento Adaptativo</h2>
                    <p class="text-slate-300 mb-6">Ofrecemos venta a plazos inteligente para la adquisici√≥n de vagonetas nuevas para m√°s de 19 pasajeros, importadas directamente y totalmente equipadas (incluyendo GNV, GPS, c√°maras). Nuestros t√©rminos son justos y sostenibles.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">T√©rminos Clave</h4>
                            <ul class="list-disc list-inside text-slate-300 space-y-1">
                                <li><strong>Plazos:</strong> Flexibles, de 48 a 60 meses.</li>
                                <li><strong>Tasas de Inter√©s:</strong> Competitivas y determinadas por el modelo de scoring propietario, entre **23.9% y 26.9% anual**.</li>
                            </ul>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-emerald-400">Perfil del "Hombre-Vagoneta" y la "Carta Aval de Ruta"</h4>
                            <p class="text-slate-300 text-sm">Nuestro cliente es el operador a peque√±a escala (1-5 unidades), a menudo no bancarizado. La **"carta aval de ruta"**, firmada por el l√≠der de ruta, es un **colateral social** √∫nico y un potente predictor de riesgo que integramos en HASE.</p>
                        </div>
                    </div>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">Modelo de Pago H√≠brido: Sin Fricci√≥n</h3>
                    <p class="text-slate-300 mb-6">Una innovaci√≥n operativa clave es nuestro modelo de cobranza h√≠brido, dise√±ado para adaptarse al flujo de efectivo real del operador y reducir dr√°sticamente la fricci√≥n y el riesgo de impago.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">1. Recaudo Autom√°tico v√≠a Ahorro</h4>
                            <p class="text-slate-300 text-sm">Una porci√≥n del pago mensual se cubre autom√°ticamente a trav√©s del **ahorro real generado por el consumo de GNV** (vs. gasolina). Esto se habilita mediante integraciones API directas con estaciones de GNV aliadas, haciendo que la unidad "se pague sola" mientras trabaja.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-emerald-400">2. Pago Flexible del Remanente</h4>
                            <p class="text-slate-300 text-sm">El operador liquida el remanente con total comodidad: v√≠a transferencia electr√≥nica (**SPEI -STP**) a una CLABE √∫nica o en efectivo en una red de **+20,000 tiendas de conveniencia** (v√≠a OXXO Pay u otra). La conciliaci√≥n de estos pagos est√° automatizada.</p>
                        </div>
                    </div>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">Servicios de Valor Agregado y Futuros Flujos de Ingreso</h3>
                    <p class="text-slate-300 mb-6">La plataforma de Rodando a Gas est√° concebida para evolucionar m√°s all√° del financiamiento, abriendo la puerta a m√∫ltiples flujos de ingreso futuros y creando un ecosistema de servicios integral.</p>
                    <ul class="list-disc list-inside text-slate-300 space-y-2">
                        <li>**Marketplace de Servicios y Microseguros:** Una plataforma para ofrecer productos y servicios curados (refacciones, seguros especializados, contabilidad), generando ingresos por comisiones.</li>
                        <li>**Movilidad como Servicio (MaaS):** Soluci√≥n de transporte todo incluido (vagoneta, mantenimiento, seguros, soporte) v√≠a suscripci√≥n mensual, reduciendo la barrera de entrada para operadores.</li>
                        <li>**Cr√©ditos Colectivos (Tandas):** Adaptaci√≥n del concepto cultural de la "tanda" al financiamiento, apalancando el **capital social** de las rutas como garant√≠a para escalar cr√©ditos de forma m√°s segura.</li>
                    </ul>
                </div>
            </section>

            <section id="ventaja-competitiva" class="section">
                <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">La Pila de Validaci√≥n Multicapa de "Protecci√≥n Rodando"</h2>
                    <p class="text-slate-300 mb-6">"Protecci√≥n Rodando" es nuestro sistema de seguro proactivo, gestionado por IA, que redefine la relaci√≥n entre prestamista y prestatario. Su credibilidad se basa en una s√≥lida **pila de validaci√≥n** dise√±ada para satisfacer el escrutinio de diversos *stakeholders*.</p>
                    <div class="space-y-6 mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg text-sky-400">Modelo de P_default Din√°mico (HASE)</h4>
                            <p class="text-slate-300 text-sm">HASE trata la probabilidad de incumplimiento (`P_default`) como una variable din√°mica en una serie de tiempo: `P_default(t) = f(Factores_Est√°ticos, Score_Conductual(t-1), Flag_Intervenci√≥n(t))`. El `Flag_Intervenci√≥n(t)` cuantifica el efecto mitigante directo de "Protecci√≥n Rodando", proyectando una reducci√≥n de la tasa de mora de hasta un **50%**.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg text-emerald-400">Algoritmo de Equilibrio de TIR</h4>
                            <p class="text-slate-300 text-sm">Este mecanismo financiero garantiza que la flexibilidad ofrecida no sacrifique la rentabilidad. El algoritmo ajusta los flujos de caja futuros para mantener la TIR en o por encima del objetivo del **‚â•22.8%**, convirtiendo la empat√≠a en un activo matem√°ticamente gestionado.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg text-amber-400">An√°lisis de Opciones Reales (ROA)</h4>
                            <p class="text-slate-300 text-sm">Para audiencias financieras sofisticadas, modelamos la flexibilidad como una serie de *put options* otorgadas al prestatario. La volatilidad de los ingresos del operador, que tradicionalmente es un riesgo, aumenta el valor de esta opci√≥n de flexibilidad, demostrando que RAG encuentra valor donde otros solo ven riesgo.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg text-purple-400">Validaci√≥n Institucional (Merton y Vasicek)</h4>
                            <p class="text-slate-300 text-sm">Alineamos nuestro modelo con marcos est√°ndar de la industria. Al reducir obligaciones a corto plazo y actuar como seguro contra shocks idiosincr√°ticos, "Protecci√≥n Rodando" aumenta la "Distancia al Default" (Merton) y reduce la correlaci√≥n de default en la cartera (Vasicek), demostrando un nivel de gesti√≥n de riesgo de grado institucional.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg text-rose-400">An√°lisis de Viabilidad Econ√≥mica Directa</h4>
                            <p class="text-slate-300 text-sm">Un simple an√°lisis costo-beneficio valida el modelo: un ahorro de **$5,000 MXN** por evento de mora evitado (reducci√≥n del 50%) supera el costo de intervenci√≥n proactiva (estimado en $2,000 MXN), ofreciendo un argumento econ√≥mico potente.</p>
                        </div>
                    </div>
                    
                    <h2 class="text-2xl font-bold mb-4 text-white mt-12">Los Cuatro Fosos Competitivos: Una Ventaja Sin√©rgica</h2>
                    <p class="text-slate-300 mb-6">Nuestra verdadera defendibilidad reside en la integraci√≥n sin√©rgica de m√∫ltiples barreras de entrada que se refuerzan mutuamente, creando una ventaja formidable y duradera.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">Foso de Datos (Data Moat)</h4>
                            <p class="text-slate-300 text-sm">Robusto por la combinaci√≥n de datos operativos (GNV, GPS) y cualitativos ("carta aval de ruta"). Se expande con datos telem√°ticos granulares del **PMA** y datos etiquetados de alto valor generados por cada intervenci√≥n de "Protecci√≥n Rodando", correlacionando disparador-causa-resultado.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-emerald-400">Foso Tecnol√≥gico (Tech Moat)</h4>
                            <p class="text-slate-300 text-sm">Ya no es solo HASE y PIA, sino un ecosistema de **tres agentes de IA** interconectados (HASE, PIA, **PMA**). Su sinergia permite detectar riesgos, intervenir con flexibilidad financiera, diagnosticar causas mec√°nicas y ofrecer soluciones, todo imposible de replicar sin acceso a nuestro foso de datos.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-amber-400">Foso Operacional (Operational Moat)</h4>
                            <p class="text-slate-300 text-sm">La eficiencia se dispara. El **PMA** reduce costos al mantener activos √≥ptimos. El proceso de intervenci√≥n de 6 pasos de "Protecci√≥n Rodando" estructura y automatiza la ejecuci√≥n, permitiendo una escalabilidad ultra-eficiente y un aumento de la cartera 10 veces m√°s r√°pido con menor costo marginal.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-purple-400">Foso de Efectos de Red (Network Effects Moat)</h4>
                            <p class="text-slate-300 text-sm">El "Flywheel de Datos" se acelera exponencialmente. M√°s clientes generan m√°s datos de operaci√≥n, pago y mantenimiento. M√°s datos hacen que HASE, PIA y **PMA** sean m√°s inteligentes, llevando a un producto superior (scoring m√°s justo, servicio m√°s emp√°tico, mantenimiento m√°s predictivo) que a su vez atrae m√°s clientes y nuevas ventas de refacciones, creando un ciclo virtuoso inexpugnable.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="ecosistema-ia" class="section">
                <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">El Ecosistema de IA: HASE, PIA y el Pilar PMA</h2>
                    <p class="text-slate-300 mb-6">La ventaja tecnol√≥gica de Rodando a Gas reside en un ecosistema de **tres agentes de inteligencia artificial especializados** que trabajan en sinergia para gestionar el ciclo de vida completo del cliente y del activo, superando a la competencia.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-xl font-bold text-sky-400">HASE (Cerebro üß†)</h3>
                            <p class="text-slate-300 text-sm mt-2">Motor de Scoring Hiper-Adaptativo que eval√∫a el riesgo din√°micamente utilizando nuestro foso de datos propietario.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-xl font-bold text-emerald-400">PIA (Coraz√≥n ‚ù§Ô∏è)</h3>
                            <p class="text-slate-300 text-sm mt-2">Agente de Intervenci√≥n Proactiva que gestiona la comunicaci√≥n emp√°tica a escala con ofertas de apoyo antes del impago.</p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h3 class="text-xl font-bold text-purple-400">PMA (Escudo üõ°Ô∏è)</h3>
                            <p class="text-slate-300 text-sm mt-2">Asesor de Mantenimiento Predictivo que analiza telemetr√≠a para predecir fallas y **genera ingresos por venta de refacciones**.</p>
                        </div>
                    </div>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">Inteligencia Artificial Explicable (XAI) con SHAP</h3>
                    <p class="text-slate-300 mb-4">Para mitigar riesgos regulatorios y √©ticos, e impulsar la confianza, integramos **XAI con la t√©cnica SHAP** en el ciclo de vida de HASE. Esto nos permite generar **explicaciones locales** de cada decisi√≥n de riesgo y **auditar la equidad** del modelo para mitigar sesgos.</p>
                    
                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">Optimizaci√≥n con Ciencia del Comportamiento</h3>
                    <p class="text-slate-300 mb-4">Potenciamos la intervenci√≥n con el cliente a trav√©s de t√©cnicas de la ciencia del comportamiento y gamificaci√≥n, gestionando activamente el riesgo conductual.</p>
                    <ul class="list-disc list-inside text-slate-300 space-y-2">
                        <li>**"Nudges" Conductuales Espec√≠ficos:** PIA desplegar√° "empujones" (ej., de-anchoring del pago m√≠nimo, reducci√≥n de carga cognitiva) probados por A/B testing para optimizar las decisiones del operador bajo estr√©s financiero.</li>
                        <li>**Gamificaci√≥n para el Repago:** Aplicaremos mec√°nicas de juego (puntos, insignias, tablas de clasificaci√≥n) para transformar el proceso de pago en una experiencia atractiva y gratificante, aumentando la motivaci√≥n y el compromiso.</li>
                    </ul>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">Visi√≥n a Largo Plazo: Foso de Red con Aprendizaje Federado (FL)</h3>
                    <p class="text-slate-300 mb-4">Para superar la paradoja del intercambio de datos sensibles y construir un foso de datos inexpugnable, nuestra hoja de ruta a mediano y largo plazo contempla un ecosistema de **Aprendizaje Federado (Federated Learning - FL)**.</p>
                    <p class="text-slate-300 mb-4">En este modelo, RAG orquestar√≠a una red donde los socios entrenan el modelo HASE localmente con sus datos privados, y solo comparten actualizaciones del modelo (gradientes/par√°metros anonimizados) con el servidor central de RAG. Esto nos permite construir un modelo de riesgo con una visi√≥n de 360 grados del operador sin ver nunca los datos de la competencia, cumpliendo con la LFPDPPP por dise√±o. Se crea un **efecto de red inexpugnable**: cada nuevo socio hace el modelo global m√°s inteligente, solidificando el liderazgo de RAG como el centro neur√°lgico de inteligencia del mercado.</p>
                </div>
            </section>

            <section id="arquitectura-ejecucion" class="section">
                 <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">Arquitectura de Datos y Rendimiento</h2>
                    <p class="text-slate-300 mb-6">El sistema se basa en una **arquitectura Kappa**, dise√±ada para procesar datos como un flujo de eventos inmutables. Esto garantiza consistencia, escalabilidad y baja latencia, permitiendo que HASE act√∫e en tiempo real. Pasa el cursor sobre cada componente para m√°s detalles.</p>
                    
                    <div id="architecture-diagram" class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 my-8 p-4 bg-slate-800 rounded-lg border border-slate-700">
                        <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                            <span class="text-3xl mb-1 text-sky-400">üì°</span>
                            <p class="font-semibold text-sm text-white">Fuentes de Datos</p>
                            <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">GPS, GNV y Consware env√≠an datos hist√≥ricos y en tiempo real.</div>
                        </div>
                        <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                        <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                            <span class="text-3xl mb-1 text-sky-400">üîÑ</span>
                            <p class="font-semibold text-sm text-white">Apache Kafka</p>
                            <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Act√∫a como el bus de eventos central. Ingiere y persiste todos los flujos de datos de forma tolerante a fallos.</div>
                        </div>
                        <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                        <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                            <span class="text-3xl mb-1 text-sky-400">‚ú®</span>
                            <p class="font-semibold text-sm text-white">Apache Flink</p>
                            <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Procesa y enriquece los datos en tiempo real (ej. cruce de placa con ID de financiamiento e Ingenier√≠a de Caracter√≠sticas Avanzada).</div>
                        </div>
                        <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                        <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                            <span class="text-3xl mb-1 text-sky-400">üß†</span>
                            <p class="font-semibold text-sm text-white">Motor HASE</p>
                            <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Calcula el score de riesgo din√°mico (P_default) utilizando modelos de IA (ej. XGBoost, con potencial de h√≠bridos).</div>
                        </div>
                        <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                        <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                            <span class="text-3xl mb-1 text-sky-400">ü§ñ</span>
                            <p class="font-semibold text-sm text-white">PIA: Agente Proactivo</p>
                            <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Recibe triggers de HASE ante anomal√≠as y activa la comunicaci√≥n emp√°tica con el operador v√≠a WhatsApp.</div>
                        </div>
                        <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                        <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                            <span class="text-3xl mb-1 text-sky-400">üíæ</span>
                            <p class="font-semibold text-sm text-white">TimescaleDB</p>
                            <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Base de datos optimizada para almacenar las series temporales de datos operativos y scores de riesgo.</div>
                        </div>
                    </div>
                </div>
                <div class="card-dark mt-8">
                     <h3 class="text-xl font-semibold mb-4 text-white">Requerimientos de Plataforma</h3>
                     <p class="text-slate-300 mb-6">Para garantizar un servicio de misi√≥n cr√≠tica, la plataforma HASE debe cumplir con estrictos est√°ndares de rendimiento, confiabilidad y seguridad.</p>
                     <div id="accordion-container" class="space-y-2">
                        <div class="border border-slate-700 rounded-lg bg-slate-900">
                            <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                                <span>Rendimiento y Confiabilidad</span>
                                <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content p-4 pt-0 text-slate-300 bg-slate-900">
                                <p><strong>Disponibilidad (SLA):</strong> 99.9%.<br><strong>Latencia M√°xima (GPS/GNV):</strong> &lt; 500 ms.<br><strong>Tolerancia a Fallos:</strong> Reintentos autom√°ticos (exponential backoff) y colas de mensajes con Apache Kafka para prevenir p√©rdida de datos.<br><strong>Escalabilidad:</strong> Soporte para m√°s de 1,000 veh√≠culos simult√°neos.</p>
                            </div>
                        </div>
                        <div class="border border-slate-700 rounded-lg bg-slate-900">
                            <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                                <span>Seguridad y Privacidad</span>
                                <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content p-4 pt-0 text-slate-300 bg-slate-900">
                                <p><strong>Cifrado en Tr√°nsito:</strong> TLS 1.3+.<br><strong>Cifrado en Reposo:</strong> AES-256.<br><strong>Autenticaci√≥n:</strong> API Keys, JWT y OAuth 2.0 para GNV.<br><strong>Privacidad:</strong> Anonimizaci√≥n de la 'placa' con hash SHA-256.<br><strong>Cumplimiento:</strong> Adherencia a normativas como LGPD (M√©xico) y GDPR.</p>
                            </div>
                        </div>
                        <div class="border border-slate-700 rounded-lg bg-slate-900">
                            <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                                <span>Endpoints Cr√≠ticos</span>
                                <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content p-4 pt-0 text-slate-300 bg-slate-900">
                                <p><strong>GNV:</strong> <code>POST /api/v1/transactions</code> (env√≠o de recargas).<br><strong>GPS:</strong> <code>POST /api/v1/telemetry</code> (streaming de ubicaci√≥n).<br><strong>Consware:</strong> <code>GET /api/v1/historical?fecha=YYYY-MM-DD</code> (extracci√≥n diaria).</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-dark mt-8">
                    <h3 class="text-xl font-semibold mb-4 text-white">Gesti√≥n Estrat√©gica de Proveedores</h3>
                    <p class="text-slate-300 mb-6">La debida diligencia y la gesti√≥n continua de proveedores externos son fundamentales para asegurar la calidad de los datos, la capacidad de integraci√≥n y el cumplimiento normativo. Esto minimiza riesgos y fortalece nuestro "Foso Operacional".</p>
                    <div id="providers-accordion-container" class="space-y-2">
                        <div class="border border-slate-700 rounded-lg bg-slate-900">
                            <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                                <span>Seguridad</span>
                                <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content p-4 pt-0 bg-slate-900">
                                <ul class="space-y-4">
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øSoportan autenticaci√≥n OAuth 2.0 y/o API Keys?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Asegura m√©todos de acceso seguros y controlados.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> OAuth 2.0 para GNV, API Keys + JWT para otros.</p>
                                    </li>
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øC√≥mo manejan el cifrado de datos en tr√°nsito y en reposo?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Protege la confidencialidad de la informaci√≥n sensible.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> TLS 1.3+ en tr√°nsito, AES-256 en reposo.</p>
                                    </li>
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øC√≥mo manejan la anonimizaci√≥n de datos sensibles como la placa?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Crucial para la privacidad del operador y el cumplimiento normativo.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Anonimizaci√≥n de placa con hash SHA-256.</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="border border-slate-700 rounded-lg bg-slate-900">
                            <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                                <span>Rendimiento</span>
                                <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content p-4 pt-0 bg-slate-900">
                                <ul class="space-y-4">
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øCu√°l es su SLA para disponibilidad y latencia?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Vital para la operaci√≥n en tiempo real y la proactividad de HASE.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Disponibilidad 99.9%, latencia <500ms para GPS/GNV.</p>
                                    </li>
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øCu√°l es su capacidad de throughput (transmisiones simult√°neas)?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Asegura la escalabilidad para la flota creciente de Rodando a Gas.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Soporte para 1,000+ veh√≠culos simult√°neos.</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="border border-slate-700 rounded-lg bg-slate-900">
                            <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                                <span>Datos</span>
                                <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content p-4 pt-0 bg-slate-900">
                                <ul class="space-y-4">
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øMantienen registros hist√≥ricos de datos? ¬øPor cu√°nto tiempo?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Necesario para el entrenamiento y ajuste de los modelos de HASE en periodos de crisis.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Cobertura temporal extensa (ej. 2013-2022 para Consware/GPS).</p>
                                    </li>
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øPermiten acceso a metadatos de veh√≠culos (a√±o, modelo, n√∫mero de serie)?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Enriquece el scoring de HASE y el an√°lisis de mantenimiento predictivo.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Acceso a metadatos de veh√≠culos (a√±o, modelo, n√∫mero de serie).</p>
                                    </li>
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øC√≥mo manejan la conciliaci√≥n de datos en caso de fallos de red?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Esencial para la tolerancia a fallos y la prevenci√≥n de p√©rdida de datos.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Mecanismos de reintento, colas de mensajes (Kafka).</p>
                                    </li>
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øC√≥mo aseguran la calidad de los datos (ej. valores nulos, rangos)?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Impacta directamente la precisi√≥n del modelo HASE.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> M√°ximo 5% de valores nulos por campo, auditor√≠a de rangos.</p>
                                    </li>
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øPueden entregar datos en los formatos y frecuencias requeridos?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Asegura la compatibilidad con la arquitectura de ingesta de HASE.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Parquet/CSV, actualizaciones mensuales incrementales para Consware.</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="border border-slate-700 rounded-lg bg-slate-900">
                            <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                                <span>Cumplimiento</span>
                                <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content p-4 pt-0 bg-slate-900">
                                <ul class="space-y-4">
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">¬øCumplen con est√°ndares de protecci√≥n de datos (LGPD/GDPR)?</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> Garantiza la privacidad y el cumplimiento legal de los datos personales.</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> Cumplimiento con LGPD (M√©xico) y GDPR.</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-dark mt-8">
                    <h3 class="text-xl font-semibold mb-4 text-white">Principios MLOps: Operaci√≥n y Mejora Continua de IA a Escala</h3>
                    <p class="text-slate-300 mb-4">MLOps (Machine Learning Operations) es nuestra metodolog√≠a para la gesti√≥n del ciclo de vida de los modelos de IA de HASE y PMA en producci√≥n. Asegura que nuestros modelos sean robustos, escalables y se adapten continuamente, maximizando su valor predictivo y prescriptivo.</p>
                    <ul class="list-disc list-inside text-sm text-slate-300 space-y-2">
                        <li><strong>Versionamiento de Modelos (con MLflow):</strong> Trazamos cada iteraci√≥n del modelo HASE y PMA, sus par√°metros y rendimiento, garantizando la reproducibilidad y la auditor√≠a.</li>
                        <li><strong>Gesti√≥n de Experimentos:</strong> Utilizamos plataformas para comparar el rendimiento de diferentes versiones del modelo y nuevas caracter√≠sticas, acelerando la investigaci√≥n y el desarrollo de modelos m√°s precisos y eficientes.</li>
                        <li><strong>Despliegue Continuo (CI/CD para Modelos):</strong> Automatizamos el proceso de llevar los modelos validados desde el desarrollo a producci√≥n de forma segura y eficiente.</li>
                        <li><strong>Monitoreo en Producci√≥n:</strong> Vigilamos constantemente la precisi√≥n, el *recall* y otros KPIs del modelo para detectar degradaciones (deriva) y activar reentrenamientos o recalibraciones.</li>
                    </ul>
                    <p class="text-slate-300 mt-4">Estos principios, habilitados por herramientas como **MLflow** y **Kubeflow**, son esenciales para la evoluci√≥n de HASE hacia modelos h√≠bridos y la integraci√≥n de la inferencia causal.</p>
                </div>
            </section>

            <section id="simulador" class="section">
                 <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">HASE en Acci√≥n: Simulador de Riesgo</h2>
                    <p class="text-slate-300 mb-6">Experimenta c√≥mo HASE eval√∫a el riesgo din√°micamente. Ajusta las variables operativas clave para ver c√≥mo afectan el score de riesgo del operador y qu√© acci√≥n proactiva desencadenar√≠a el Agente de Intervenci√≥n Proactiva (PIA). La f√≥rmula conceptual es: <br> <code class="bg-slate-800 text-sm p-1 rounded text-white">P_default(t) = f(Factores_Est√°ticos, Score_Conductual(t-1), Flag_Intervenci√≥n(t))</code></p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="space-y-6">
                            <div>
                                <label for="gnv-slider" class="block font-medium mb-1 text-slate-300">Consumo de GNV (vs. Promedio Hist√≥rico)</label>
                                <input id="gnv-slider" type="range" min="-50" max="10" value="0" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider-thumb">
                                <div class="flex justify-between text-xs text-slate-400 mt-1">
                                    <span>-50%</span>
                                    <span>Normal</span>
                                    <span>+10%</span>
                                </div>
                            </div>
                             <div>
                                <label for="ruta-slider" class="block font-medium mb-1 text-slate-300">Desviaci√≥n de Ruta</label>
                                <input id="ruta-slider" type="range" min="0" max="40" value="5" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider-thumb">
                                 <div class="flex justify-between text-xs text-slate-400 mt-1">
                                    <span>Sin desviaci√≥n</span>
                                    <span>Alta desviaci√≥n (40%)</span>
                                </div>
                            </div>
                             <div>
                                <label for="proteccion-slider" class="block font-medium mb-1 text-slate-300">Uso de "Protecci√≥n Rodando" (√∫ltimos 3 meses)</label>
                                <input id="proteccion-slider" type="range" min="0" max="3" value="0" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider-thumb">
                                 <div class="flex justify-between text-xs text-slate-400 mt-1">
                                    <span>0 veces</span>
                                    <span>3 veces</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="chart-container w-full h-64 md:h-80">
                                <canvas id="riskGaugeChart"></canvas>
                            </div>
                             <div id="pia-action" class="mt-4 text-center p-4 rounded-lg w-full transition-all duration-300">
                                <h4 class="font-bold text-lg text-white">Acci√≥n PIA</h4>
                                <p class="text-md text-slate-300"></p>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>

            <section id="procesos-clave" class="section">
                <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">Procesos Clave: Onboarding y Protecci√≥n Rodando</h2>
                    <p class="text-slate-300 mb-6">Explora c√≥mo Rodando a Gas facilita la experiencia del operador a trav√©s de procesos √°giles y proactivos, dise√±ados con una filosof√≠a "digital-first" y un profundo entendimiento de sus necesidades.</p>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">1. Proceso de Onboarding</h3>
                    <p class="text-slate-300 mb-4">El onboarding est√° dise√±ado para completarse en menos de 72 horas, priorizando una experiencia fluida para el operador.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">üì± Pantalla de Carga de Documentos (Operador)</h4>
                            <p class="text-slate-300 text-sm mb-2">Interfaz m√≥vil limpia para cargar documentos. El campo para la "carta de antig√ºedad de ruta" se destaca por su importancia estrat√©gica.</p>
                            <div class="border border-dashed border-slate-600 p-4 rounded-md text-center text-slate-400 text-xs">
                                <p class="mb-1"><strong>Simulaci√≥n de UI:</strong></p>
                                <p>T√≠tulo: Carga tus Documentos</p>
                                <p>Carga INE: [Bot√≥n Subir Archivo] ‚úÖ</p>
                                <p>Comprobante Domicilio: [Bot√≥n Subir Archivo] ‚úÖ</p>
                                <p>Concesi√≥n/Tarj. Circulaci√≥n: [Bot√≥n Subir Archivo] ‚è≥</p>
                                <p class="font-bold text-sky-400">Carta de Antig√ºedad de Ruta: [Bot√≥n Subir Archivo]</p>
                                <p class="text-slate-400"><em>(Un valioso filtro de riesgo social)</em></p>
                                <button class="mt-3 px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-500">Enviar Solicitud</button>
                                <p class="mt-2 text-slate-400 text-xs">Progreso: 75% completado</p>
                            </div>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">üíª Dashboard de Revisi√≥n (Agente Interno)</h4>
                            <p class="text-slate-300 text-sm mb-2">Vista para agentes internos para revisar y validar solicitudes, con scoring inicial de HASE.</p>
                            <div class="border border-dashed border-slate-600 p-4 rounded-md text-center text-slate-400 text-xs">
                                <p class="mb-1"><strong>Simulaci√≥n de UI:</strong></p>
                                <p>T√≠tulo: Revisi√≥n de Solicitudes Pendientes</p>
                                <ul class="list-disc list-inside text-left mb-2 text-slate-300">
                                    <li>Solicitud #12345 (Operador Juan P.) - Status: Pendiente</li>
                                    <li>Solicitud #12346 (Operador Ana R.) - Status: En Revisi√≥n</li>
                                </ul>
                                <p class="text-left font-semibold text-white">Detalle Solicitud #12345:</p>
                                <p class="text-left text-slate-300">INE: Validado ‚úÖ</p>
                                <p class="text-left text-slate-300">Carta Aval Ruta: Pendiente de Revisi√≥n ‚è≥</p>
                                <p class="text-left font-semibold mt-1 text-white">Score HASE Inicial: <span class="text-emerald-400">Bajo Riesgo</span></p>
                                <p class="text-left text-slate-300">Notas: [Campo de texto]</p>
                                <div class="flex justify-around mt-3">
                                    <button class="px-3 py-1 bg-emerald-600 text-white rounded-md hover:bg-emerald-500">Aprobar</button>
                                    <button class="px-3 py-1 bg-rose-600 text-white rounded-md hover:bg-rose-500">Rechazar</button>
                                    <button class="px-3 py-1 bg-amber-600 text-white rounded-md hover:bg-amber-500">Solicitar M√°s Info</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">2. Activaci√≥n de "Protecci√≥n Rodando"</h3>
                    <p class="text-slate-300 mb-4">Un proceso automatizado y emp√°tico en cuatro pasos: Disparador de Datos, Intervenci√≥n Proactiva, Activaci√≥n Flexible y Equilibrio de TIR.</p>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">üí¨ Notificaci√≥n Proactiva de PIA (WhatsApp)</h4>
                            <p class="text-slate-300 text-sm mb-2">Mensaje de WhatsApp enviado por PIA cuando HASE detecta una anomal√≠a (ej. ca√≠da 30% GNV).</p>
                            <div class="border border-dashed border-slate-600 p-4 rounded-md text-center text-slate-400 text-xs">
                                <p class="mb-1"><strong>Simulaci√≥n de Chat:</strong></p>
                                <div class="bg-emerald-800 p-2 rounded-lg text-left mb-2">
                                    <p class="font-semibold text-emerald-300">Rodando a Gas</p>
                                    <p class="text-emerald-200 text-xs">Hola Juan, vimos que tu van recorri√≥ menos km. ¬øHay alg√∫n problema? ¬øNecesitas usar Protecci√≥n Rodando? Estamos para apoyarte. Responde 'S√≠' para activar.</p>
                                </div>
                                <p class="text-right text-slate-300 text-xs mt-1">"S√≠" [Operador]</p>
                            </div>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">‚úÖ Confirmaci√≥n de Activaci√≥n y Resumen (WhatsApp)</h4>
                            <p class="text-slate-300 text-sm mb-2">Respuesta de confirmaci√≥n a trav√©s de WhatsApp, indicando el ajuste realizado y que no habr√° multas.</p>
                            <div class="border border-dashed border-slate-600 p-4 rounded-md text-center text-slate-400 text-xs">
                                <p class="mb-1"><strong>Simulaci√≥n de Chat:</strong></p>
                                <div class="bg-sky-800 p-2 rounded-lg text-left mb-2">
                                    <p class="font-semibold text-sky-300">Rodando a Gas</p>
                                    <p class="text-sky-200 text-xs">¬°Excelente! Protecci√≥n Rodando ha sido activada. Tu plazo se extender√° 5 d√≠as. Sin multas ni intereses adicionales. Revisa tu app para el nuevo plan de pagos.</p>
                                </div>
                                <p class="text-right text-slate-300 text-xs mt-1">"Gracias!" [Operador]</p>
                            </div>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">3. Mantenimiento Proactivo (PMA) y Venta de Refacciones</h3>
                    <p class="text-slate-300 mb-4">El PMA integra telemetr√≠a con planes de mantenimiento para anticipar necesidades, **asegurar el estado √≥ptimo de la unidad** y generar **oportunidades de venta de refacciones**.</p>
                    <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                        <h4 class="font-bold text-lg mb-2 text-sky-400">‚öôÔ∏è Detecci√≥n de Necesidad y Oferta de Venta</h4>
                        <p class="text-slate-300 text-sm mb-2">El PMA analiza la telemetr√≠a del veh√≠culo (ej., `temperatura_motor`, `presion_aceite`, `vibracion`) en busca de patrones an√≥malos o necesidades de mantenimiento seg√∫n el kilometraje. Al detectar una posible anomal√≠a o necesidad, genera una alerta y sugiere una acci√≥n.</p>
                        <ul class="list-disc list-inside text-sm text-slate-300 space-y-1 mt-2">
                            <li><strong>Alerta/Detecci√≥n:</strong> Desgaste avanzado en llantas delanteras (TP-A1) detectado por `od√≥metro` y `patrones_ruta`, o `temperatura_motor` un 15% por encima del promedio normal.</li>
                            <li><strong>Acci√≥n Sugerida (Mantenimiento):</strong> Notificaci√≥n autom√°tica al operador para agendar revisi√≥n preventiva en un taller aliado.</li>
                            <li><strong>Oportunidad de Venta (Refacciones):</strong> Oferta proactiva de llantas y servicio de instalaci√≥n v√≠a WhatsApp/App.</li>
                            <li><strong>Impacto:</strong> Evita una falla mayor, reduce inactividad, y genera un nuevo flujo de ingresos por venta de refacciones.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="monitoreo-dashboards" class="section">
                <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">Monitoreo y Dashboards: Visi√≥n en Tiempo Real de la Flota</h2>
                    <p class="text-slate-300 mb-6">El dashboard de HASE transforma los datos crudos en inteligencia accionable, permitiendo a Rodando a Gas monitorear la salud operativa de la flota, anticipar riesgos y asegurar la calidad del "foso de datos".</p>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">1. Dashboard Principal de HASE (Vista de Flota)</h3>
                    <p class="text-slate-300 mb-4">Una visi√≥n consolidada del rendimiento y riesgo de toda la flota, con capacidad de drill-down.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">üìä KPIs de Riesgo y Alertas</h4>
                            <div class="flex justify-around items-center mb-4">
                                <div>
                                    <p class="text-sm text-slate-400">Tasa de Morosidad</p>
                                    <p class="text-2xl font-bold text-rose-400">8.5% <span class="text-xs text-slate-500">(Obj: &lt;8%)</span></p>
                                </div>
                                <div>
                                    <p class="text-sm text-slate-400">TIR de Cartera</p>
                                    <p class="text-2xl font-bold text-emerald-400">23.1% <span class="text-xs text-slate-500">(Obj: &ge;22.8%)</span></p>
                                </div>
                            </div>
                            <div class="text-center">
                                <p class="text-lg font-semibold text-white">Alertas Activas: <span class="text-rose-400">12</span></p>
                                <p class="text-sm text-slate-400">(Ca√≠da GNV: 8, Desviaci√≥n Ruta: 4)</p>
                            </div>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">üìç Mapa de Flota Simulado</h4>
                            <p class="text-slate-300 text-sm mb-2">Visualizaci√≥n de veh√≠culos por nivel de riesgo o estado (Ej: Verde = Bajo Riesgo, Amarillo = Riesgo Moderado, Rojo = Alto Riesgo)</p>
                            <div class="simulated-map shadow-inner bg-slate-900">
                                <div class="map-cell risk-low">TP-A1</div>
                                <div class="map-cell risk-low">TP-A2</div>
                                <div class="map-cell risk-medium">TP-B1</div>
                                <div class="map-cell risk-low">TP-A3</div>
                                <div class="map-cell risk-high">TP-C1</div>
                                <div class="map-cell risk-low">TP-A4</div>
                                <div class="map-cell risk-low">TP-A5</div>
                                <div class="map-cell risk-medium">TP-B2</div>
                                <div class="map-cell risk-low">TP-A6</div>
                                <div class="map-cell risk-high">TP-C2</div>
                                <div class="map-cell risk-low">TP-A7</div>
                                <div class="map-cell risk-low">TP-A8</div>
                                <div class="map-cell risk-medium">TP-B3</div>
                                <div class="map-cell risk-low">TP-A9</div>
                                <div class="map-cell risk-high">TP-C3</div>
                                <div class="map-cell risk-low">TP-B4</div>
                                <div class="map-cell risk-low">TP-A10</div>
                                <div class="map-cell risk-medium">TP-B5</div>
                                <div class="map-cell risk-low">TP-A11</div>
                                <div class="map-cell risk-high">TP-C4</div>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">2. An√°lisis de Tendencias de Consumo GNV (Flota)</h3>
                    <p class="text-slate-300 mb-4">Gr√°fico que representa el consumo total de GNV de la flota a lo largo del tiempo, esencial para identificar patrones y anomal√≠as.</p>
                    <div class="bg-slate-800 p-4 rounded-lg border border-slate-700 chart-container">
                        <canvas id="fleetGnvTrendChart"></canvas>
                    </div>

                    <h3 class="text-xl font-semibold mb-4 mt-8 text-white">3. Vista Detallada de Veh√≠culo</h3>
                    <p class="text-slate-300 mb-4">Informaci√≥n granular sobre un veh√≠culo individual, incluyendo su score de riesgo, historial de consumo y telemetr√≠a clave.</p>
                    <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                        <h4 class="font-bold text-lg mb-2 text-sky-400">üîé Ejemplo de Detalle de Veh√≠culo (Placa: EM¬∑153¬∑TP)</h4>
                        <ul class="list-disc list-inside text-sm text-slate-300 space-y-1">
                            <li><strong>Modelo:</strong> Nissan Urvan 2020, <strong>Financiamiento ID:</strong> FIN-2023-001</li>
                            <li><strong>Score de Riesgo Actual:</strong> <span class="text-emerald-400 font-semibold">Bajo (15%)</span></li>
                            <li><strong>Historial Consumo GNV:</strong> Gr√°fico de l√≠neas con picos y valles, marcadores de sobreprecio y activaciones de Protecci√≥n Rodando.</li>
                            <li><strong>Patr√≥n de Ruta:</strong> Mapa que muestra el recorrido con posibles desviaciones resaltadas.</li>
                            <li><strong>Telemetr√≠a Clave:</strong> Od√≥metro (125,450 km), Estado Motor (Encendido: 8 hrs/d√≠a).</li>
                            <li><strong>Alertas Recientes:</strong> 15/06/2025 - Ca√≠da GNV 25% (Intervenci√≥n PIA: Mensaje de apoyo).</li>
                        </ul>
                    </div>
                </div>
                <div class="card-dark mt-8">
                    <h3 class="text-xl font-semibold mb-4 text-white">4. Integraci√≥n del PMA (Predictive Maintenance Advisor)</h3>
                    <p class="text-slate-300 mb-4">El PMA es el tercer pilar de la inteligencia artificial de Rodando a Gas, enfocado en la **prevenci√≥n proactiva de fallas mec√°nicas** y la optimizaci√≥n de la vida √∫til de las vagonetas. Al igual que HASE, el PMA se nutre de datos operativos en tiempo real para anticipar problemas de mantenimiento. Su rol es dual: **asegurar el estado √≥ptimo de la unidad** (reduciendo inactividad y protegiendo la capacidad de pago del operador) y actuar como un **agente de ventas proactivo** para generar nuevos flujos de ingresos.</p>
                    <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                        <h4 class="font-bold text-lg mb-2 text-sky-400">üîß Ejemplo de Detecci√≥n PMA y Venta de Refacciones</h4>
                        <p class="text-slate-300 text-sm mb-2">El PMA analiza la telemetr√≠a del veh√≠culo (ej., `temperatura_motor`, `presion_aceite`, `vibracion`) en busca de patrones an√≥malos o necesidades de mantenimiento seg√∫n el kilometraje. Al detectar una posible anomal√≠a o necesidad, genera una alerta y sugiere una acci√≥n.</p>
                        <ul class="list-disc list-inside text-sm text-slate-300 space-y-1 mt-2">
                            <li><strong>Alerta/Detecci√≥n:</strong> Desgaste avanzado en llantas delanteras (TP-A1) detectado por `od√≥metro` y `patrones_ruta`, o `temperatura_motor` un 15% por encima del promedio normal.</li>
                            <li><strong>Acci√≥n Sugerida (Mantenimiento):</strong> Notificaci√≥n autom√°tica al operador para agendar revisi√≥n preventiva en un taller aliado.</li>
                            <li><strong>Oportunidad de Venta (Refacciones):</strong> Oferta proactiva de llantas y servicio de instalaci√≥n v√≠a WhatsApp/App.</li>
                            <li><strong>Impacto:</strong> Evita una falla mayor, reduce inactividad, y genera un nuevo flujo de ingresos por venta de refacciones.</li>
                        </ul>
                    </div>
                </div>
                <div class="card-dark mt-8">
                    <h3 class="text-xl font-semibold mb-4 text-white">5. Salud del Foso de Datos y Monitoreo de Deriva del Modelo</h3>
                    <p class="text-slate-300 mb-4">La vitalidad de HASE y PMA depende directamente de la calidad y la relevancia continua de su foso de datos. Monitoreamos activamente la salud de los datos y la "deriva" de nuestros modelos para asegurar precisi√≥n constante y activar acciones correctivas.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">‚ú® KPIs de Calidad de Datos (Data Contracts)</h4>
                            <p class="text-slate-300 text-sm mb-2">Implementamos **Data Contracts** formales con los proveedores para garantizar la calidad desde la ingesta. Aqu√≠ se muestran KPIs clave.</p>
                            <ul class="list-disc list-inside text-sm text-slate-300 space-y-1">
                                <li><strong>Completitud:</strong> % de campos sin valores nulos (Objetivo: >95%).</li>
                                <li><strong>Validez:</strong> % de datos dentro de rangos esperados (Ej: `consumo_gnv` > 0).</li>
                                <li><strong>Consistencia:</strong> % de `placas` unificadas y sin duplicados.</li>
                                <li><strong>Puntualidad:</strong> Latencia promedio de ingesta (`GPS`, `GNV`).</li>
                            </ul>
                            <p class="text-slate-400 text-xs mt-2"><em>(Aqu√≠ se mostrar√≠an gr√°ficos de tendencia para cada KPI de calidad de datos y cumplimiento de Data Contracts.)</em></p>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-bold text-lg mb-2 text-sky-400">üìâ Monitoreo de Deriva del Modelo (Model Drift)</h4>
                            <p class="text-slate-300 text-sm mb-2">Monitoreamos continuamente c√≥mo las caracter√≠sticas de entrada y el rendimiento del modelo cambian con el tiempo.</p>
                            <ul class="list-disc list-inside text-sm text-slate-300 space-y-1">
                                <li><strong>Deriva de Datos (Data Drift):</strong> Cambios en la distribuci√≥n de caracter√≠sticas clave (ej., `consumo_gnv`, `patrones_ruta`, `temperatura_motor`).</li>
                                <li><strong>Deriva de Concepto (Concept Drift):</strong> La degradaci√≥n del rendimiento predictivo de `P_default(t)` o del PMA (precisi√≥n de predicci√≥n de fallas).</li>
                            </ul>
                            <p class="text-slate-400 text-xs mt-2"><em>(Aqu√≠ se visualizar√≠an gr√°ficos de monitoreo de deriva, **disparando alertas para reentrenamiento o recalibraci√≥n autom√°tica de los modelos.**)</em></p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="roadmap" class="section">
                 <div class="card-dark">
                    <h2 class="text-2xl font-bold mb-4 text-white">Roadmap de Implementaci√≥n</h2>
                    <p class="text-slate-300 mb-6">Hemos ajustado el roadmap para optimizar el desarrollo y aprovechar la disponibilidad temprana de los datos hist√≥ricos de Consware. Ahora, nuestra primera fase se enfocar√° en sentar una base de datos s√≥lida para que HASE pueda ser entrenado con un contexto completo de riesgo desde el inicio.</p>
                     <div id="roadmap-container" class="space-y-8">
                        <div class="roadmap-item cursor-pointer">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-sky-600 text-white flex items-center justify-center font-bold text-lg">1</div>
                                <div class="ml-4">
                                    <h4 class="text-xl font-bold text-white">Fase 1: Preparaci√≥n del Foso de Datos Hist√≥ricos</h4>
                                    <p class="text-sm text-slate-400">Meses 1-3</p>
                                </div>
                            </div>
                            <div class="roadmap-content pl-16 mt-2">
                                <p class="text-slate-300"><strong>Objetivo:</strong> Ingestar, limpiar y estandarizar la totalidad de los datos hist√≥ricos de Consware. Realizar el entrenamiento inicial del modelo HASE con esta base de datos completa, incluyendo periodos de estr√©s.</p>
                                <p class="text-slate-300 mt-1"><strong>Componentes:</strong> Adquisici√≥n e ingesta de datos hist√≥ricos Consware. Limpieza y estandarizaci√≥n de placas (MDM). Configuraci√≥n de TimescaleDB para datos hist√≥ricos. Entrenamiento inicial de HASE (v0.8) y validaci√≥n *offline*.</p>
                                <p class="text-slate-300 mt-1"><strong>KPIs de √âxito:</strong> Completitud de datos Consware (>95%), Precisi√≥n del modelo HASE off-line (AUC, F1-score), Calidad de datos hist√≥ricos.</p>
                            </div>
                        </div>
                        <div class="roadmap-item cursor-pointer">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-sky-600 text-white flex items-center justify-center font-bold text-lg">2</div>
                                <div class="ml-4">
                                    <h4 class="text-xl font-bold text-white">Fase 2: Integraci√≥n en Tiempo Real y MVP Operativo</h4>
                                    <p class="text-sm text-slate-400">Meses 4-6</p>
                                </div>
                            </div>
                            <div class="roadmap-content pl-16 mt-2">
                                <p class="text-slate-300"><strong>Objetivo:</strong> Integrar GPS y GNV en tiempo real. Desplegar una versi√≥n funcional de HASE para alertas b√°sicas y validaci√≥n en entorno de producci√≥n.</p>
                                <p class="text-slate-300 mt-1"><strong>Componentes:</strong> Ingesta de datos GPS y GNV en tiempo real (Kafka). Enriquecimiento de datos en stream (Flink, incluyendo ingenier√≠a de caracter√≠sticas). Despliegue HASE (v1.0) para scoring en tiempo real. PIA (mensajes de alerta b√°sicos v√≠a WhatsApp).</p>
                                <p class="text-slate-300 mt-1"><strong>KPIs de √âxito:</strong> Latencia de datos GPS/GNV (&lt;500ms), Tasa de detecci√≥n de anomal√≠as en tiempo real, Eficiencia del pipeline de datos.</p>
                            </div>
                        </div>
                        <div class="roadmap-item cursor-pointer">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-sky-600 text-white flex items-center justify-center font-bold text-lg">3</div>
                                <div class="ml-4">
                                    <h4 class="text-xl font-bold text-white">Fase 3: Optimizaci√≥n de Protecci√≥n Rodando y Escala Empresarial</h4>
                                    <p class="text-sm text-slate-400">Meses 7+</p>
                                </div>
                            </div>
                            <div class="roadmap-content pl-16 mt-2">
                                <p class="text-slate-300"><strong>Objetivo:</strong> Integrar HASE con el Algoritmo de Equilibrio de TIR para optimizar la rentabilidad y escalar la plataforma a gran volumen. Habilitar **Inferencia Causal** para cuantificar el impacto real de "Protecci√≥n Rodando" y PMA.</p>
                                <p class="text-slate-300 mt-1"><strong>Componentes:</strong> Integraci√≥n con 'Protecci√≥n Rodando'. Adopci√≥n de Flink (si no se hizo antes) y herramientas MLOps (MLflow, Kubeflow) para versionamiento, gesti√≥n de experimentos, despliegue continuo y monitoreo. Integraci√≥n del PMA para generaci√≥n de ingresos por refacciones.</p>
                                <p class="text-slate-300 mt-1"><strong>KPIs de √âxito:</strong> TIR de cartera (‚â•22.8%), Tasa de morosidad (&lt;8%), Escalabilidad de la plataforma (>1000 veh√≠culos activos).</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.nav-tab');
            const sections = document.querySelectorAll('.section');

            const appData = {
                placas: [
                    { year: "2010-2015", format: "ABC-12-34", source: "SEMOVI", desc: "Formato de placa alfanum√©rica convencional definido por SEMOVI. Consware y GPS registran las placas de vagonetas (TP) bajo esta normativa." },
                    { year: "2016-2020", format: "TP-EDOMEX-123A", source: "SEMOVI", desc: "Transici√≥n a placas √∫nicas para transporte p√∫blico definida por SEMOVI, incluyendo c√≥digo de municipio. Consware y GPS registran las placas de vagonetas (TP) bajo esta normativa." },
                    { year: "2021-Presente", format: "Digital (QR, RFID)", source: "SEMOVI", desc: "Implementaci√≥n de placas digitales definidas por SEMOVI (NOM-001-SCT) con QR y RFID. Consware y GPS deben registrar las placas de vagonetas (TP) bajo este formato." }
                ],
                architecture: [
                    { name: 'Fuentes de Datos', desc: 'GPS, GNV y Consware env√≠an datos hist√≥ricos y en tiempo real.', icon: 'üì°' },
                    { name: 'Apache Kafka', desc: 'Act√∫a como el bus de eventos central. Ingiere y persiste todos los flujos de datos de forma tolerante a fallos.', icon: 'üîÑ' },
                    { name: 'Apache Flink', desc: 'Procesa y enriquece los datos en tiempo real (ej. cruce de placa con ID de financiamiento).', icon: '‚ú®' },
                    { name: 'Motor HASE', desc: 'Calcula el score de riesgo din√°mico (P_default) utilizando modelos de IA (ej. XGBoost).', icon: 'üß†' },
                    { name: 'PIA: Agente Proactivo', desc: 'Recibe triggers de HASE ante anomal√≠as y activa la comunicaci√≥n emp√°tica con el operador v√≠a WhatsApp.', icon: 'ü§ñ' },
                    { name: 'TimescaleDB', desc: 'Base de datos optimizada para almacenar las series temporales de datos operativos y scores de riesgo.', icon: 'üíæ' }
                ],
                accordion: [
                    { title: "Rendimiento y Confiabilidad", content: "<strong>Disponibilidad (SLA):</strong> 99.9%.<br><strong>Latencia M√°xima (GPS/GNV):</strong> &lt; 500 ms.<br><strong>Tolerancia a Fallos:</strong> Reintentos autom√°ticos (exponential backoff) y colas de mensajes con Apache Kafka para prevenir p√©rdida de datos.<br><strong>Escalabilidad:</strong> Soporte para m√°s de 1,000 veh√≠culos simult√°neos." },
                    { title: "Seguridad y Privacidad", content: "<strong>Cifrado en Tr√°nsito:</strong> TLS 1.3+.<br><strong>Cifrado en Reposo:</strong> AES-256.<br><strong>Autenticaci√≥n:</strong> API Keys, JWT y OAuth 2.0 para GNV.<br><strong>Privacidad:</strong> Anonimizaci√≥n de la 'placa' con hash SHA-256.<br><strong>Cumplimiento:</strong> Adherencia a normativas como LGPD (M√©xico) y GDPR." },
                    { title: "Endpoints Cr√≠ticos", content: "<strong>GNV:</strong> <code>POST /api/v1/transactions</code> (env√≠o de recargas).<br><strong>GPS:</strong> <code>POST /api/v1/telemetry</code> (streaming de ubicaci√≥n).<br><strong>Consware:</strong> <code>GET /api/v1/historical?fecha=YYYY-MM-DD</code> (extracci√≥n diaria)." }
                ],
                providers: [
                    { category: "Seguridad", questions: [
                        { q: "¬øSoportan autenticaci√≥n OAuth 2.0 y/o API Keys?", justification: "Asegura m√©todos de acceso seguros y controlados.", requirement: "OAuth 2.0 para GNV, API Keys + JWT para otros." },
                        { q: "¬øC√≥mo manejan el cifrado de datos en tr√°nsito y en reposo?", justification: "Protege la confidencialidad de la informaci√≥n sensible.", requirement: "TLS 1.3+ en tr√°nsito, AES-256 en reposo." },
                        { q: "¬øC√≥mo manejan la anonimizaci√≥n de datos sensibles como la placa?", justification: "Crucial para la privacidad del operador y el cumplimiento normativo.", requirement: "Anonimizaci√≥n de placa con hash SHA-256." }
                    ]},
                    { category: "Rendimiento", questions: [
                        { q: "¬øCu√°l es su SLA para disponibilidad y latencia?", justification: "Vital para la operaci√≥n en tiempo real y la proactividad de HASE.", requirement: "Disponibilidad 99.9%, latencia <500ms para GPS/GNV." },
                        { q: "¬øCu√°l es su capacidad de throughput (transmisiones simult√°neas)?", justification: "Asegura la escalabilidad para la flota creciente de Rodando a Gas.", requirement: "Soporte para 1,000+ veh√≠culos simult√°neos." }
                    ]},
                    { category: "Datos", questions: [
                        { q: "¬øMantienen registros hist√≥ricos de datos? ¬øPor cu√°nto tiempo?", justification: "Necesario para el entrenamiento y ajuste de los modelos de HASE en periodos de crisis.", requirement: "Cobertura temporal extensa (ej. 2013-2022 para Consware/GPS)." },
                        { q: "¬øPermiten acceso a metadatos de veh√≠culos (a√±o, modelo, n√∫mero de serie)?", justification: "Enriquece el scoring de HASE y el an√°lisis de mantenimiento predictivo.", requirement: "Acceso a metadatos de veh√≠culos (a√±o, modelo, n√∫mero de serie)." },
                        { q: "¬øC√≥mo manejan la conciliaci√≥n de datos en caso de fallos de red?", justification: "Esencial para la tolerancia a fallos y la prevenci√≥n de p√©rdida de datos.", requirement: "Mecanismos de reintento, colas de mensajes (Kafka)." },
                        { q: "¬øC√≥mo aseguran la calidad de los datos (ej. valores nulos, rangos)?", justification: "Impacta directamente la precisi√≥n del modelo HASE.", requirement: "M√°ximo 5% de valores nulos por campo, auditor√≠a de rangos." },
                        { q: "¬øPueden entregar datos en los formatos y frecuencias requeridos?", justification: "Asegura la compatibilidad con la arquitectura de ingesta de HASE.", requirement: "Parquet/CSV, actualizaciones mensuales incrementales para Consware." }
                    ]},
                    { category: "Cumplimiento", questions: [
                        { q: "¬øCumplen con est√°ndares de protecci√≥n de datos (LGPD/GDPR)?", justification: "Garantiza la privacidad y el cumplimiento legal de los datos personales.", requirement: "Cumplimiento con LGPD (M√©xico) y GDPR." }
                    ]}
                ],
                 roadmap: [
                    { phase: "Fase 1: Preparaci√≥n del Foso de Datos Hist√≥ricos", period: "Meses 1-3", goal: "Ingestar, limpiar y estandarizar la totalidad de los datos hist√≥ricos de Consware. Realizar el entrenamiento inicial del modelo HASE con esta base de datos completa, incluyendo periodos de estr√©s.", components: "Adquisici√≥n e ingesta de datos hist√≥ricos Consware. Limpieza y estandarizaci√≥n de placas (MDM). Configuraci√≥n de TimescaleDB para datos hist√≥ricos. Entrenamiento inicial de HASE (v0.8) y validaci√≥n *offline*.", kpis: "Completitud de datos Consware (>95%), Precisi√≥n del modelo HASE off-line (AUC, F1-score), Calidad de datos hist√≥ricos." },
                    { phase: "Fase 2: Integraci√≥n en Tiempo Real y MVP Operativo", period: "Meses 4-6", goal: "Integrar GPS y GNV en tiempo real. Desplegar una versi√≥n funcional de HASE para alertas b√°sicas y validaci√≥n en entorno de producci√≥n.", components: "Ingesta de datos GPS y GNV en tiempo real (Kafka). Enriquecimiento de datos en stream (Flink, incluyendo ingenier√≠a de caracter√≠sticas). Despliegue HASE (v1.0) para scoring en tiempo real. PIA (mensajes de alerta b√°sicos v√≠a WhatsApp).", kpis: "Latencia de datos GPS/GNV (<500ms), Tasa de detecci√≥n de anomal√≠as en tiempo real, Eficiencia del pipeline de datos." },
                    { phase: "Fase 3: Optimizaci√≥n de Protecci√≥n Rodando y Escala Empresarial", period: "Meses 7+", goal: "Integrar HASE con el Algoritmo de Equilibrio de TIR para optimizar la rentabilidad y escalar la plataforma a gran volumen. Habilitar Inferencia Causal para cuantificar el impacto real de 'Protecci√≥n Rodando' y PMA.", components: "Integraci√≥n con 'Protecci√≥n Rodando'. Adopci√≥n de Flink (si no se hizo antes) y herramientas MLOps (MLflow, Kubeflow) para versionamiento, gesti√≥n de experimentos, despliegue continuo y monitoreo. Integraci√≥n del PMA para generaci√≥n de ingresos por refacciones.", kpis: "TIR de cartera (‚â•22.8%), Tasa de morosidad (<8%), Escalabilidad de la plataforma (>1000 veh√≠culos activos)." }
                ]
            };

            function setActiveTab(tabId) {
                tabs.forEach(tab => {
                    const isTabActive = tab.dataset.tab === tabId;
                    tab.classList.toggle('tab-active', isTabActive);
                    tab.classList.toggle('tab-inactive', !isTabActive);
                });
                sections.forEach(section => {
                    section.classList.toggle('section-active', section.id === tabId);
                });
            }

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    setActiveTab(tab.dataset.tab);
                });
            });

            setActiveTab('vision-general');
            
            const timelineContainer = document.getElementById('timeline-placas');
            if (timelineContainer) { 
                timelineContainer.innerHTML = ''; // This is the line reported in the error
                appData.placas.forEach((item, index) => {
                    const side = index % 2 === 0 ? 'left' : 'right';
                    
                    timelineContainer.innerHTML += `
                    <div class="timeline-event cursor-pointer">
                        <div class="absolute w-4 h-4 bg-slate-500 rounded-full mt-3 -ml-2 left-1/2"></div>
                        <div class="w-full text-center py-4">
                            <div class="inline-block relative w-10/12 md:w-5/12">
                                 <div class="bg-slate-800 p-4 rounded-lg shadow-md border border-slate-700">
                                    <p class="font-bold text-white">${item.year}</p>
                                    <p class="text-sm text-slate-400">Fuente: ${item.source}</p>
                                    <div class="placa-details hidden mt-2 text-sm text-slate-300 text-left">
                                        <p><strong>Formato:</strong> <code class="bg-slate-700 text-xs p-1 rounded text-white">${item.format}</code></p>
                                        <p>${item.desc}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    `;
                });
                
                document.querySelectorAll('.timeline-event').forEach(item => {
                    item.addEventListener('click', () => {
                        item.querySelector('.placa-details').classList.toggle('hidden');
                    });
                });
            }

            const accordionContainer = document.getElementById('accordion-container');
            if (accordionContainer) { 
                accordionContainer.innerHTML = '';
                appData.accordion.forEach(item => {
                    const accordionItem = document.createElement('div');
                    accordionItem.className = 'border border-slate-700 rounded-lg bg-slate-900';
                    accordionItem.innerHTML = `
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                            <span>${item.title}</span>
                            <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                        </button>
                        <div class="accordion-content p-4 pt-0 text-slate-300 bg-slate-900">
                            <p>${item.content}</p>
                        </div>
                    `;
                    accordionContainer.appendChild(accordionItem);
                });
                
                document.querySelectorAll('.accordion-header').forEach(button => {
                    button.addEventListener('click', () => {
                        const content = button.nextElementSibling;
                        const icon = button.querySelector('.accordion-icon');
                        const isOpen = content.style.maxHeight;
                        
                        document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = null);
                        document.querySelectorAll('.accordion-icon').forEach(i => i.textContent = '+');
                        
                        if (!isOpen) {
                            content.style.maxHeight = content.scrollHeight + "px";
                            icon.textContent = '-';
                        }
                    });
                });
            }

            const providersAccordionContainer = document.getElementById('providers-accordion-container');
            if (providersAccordionContainer) { 
                providersAccordionContainer.innerHTML = '';
                appData.providers.forEach(category => {
                    const categoryItem = document.createElement('div');
                    categoryItem.className = 'border border-slate-700 rounded-lg bg-slate-900';
                    categoryItem.innerHTML = `
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-white bg-slate-800 hover:bg-slate-700 transition-colors">
                            <span>${category.category}</span>
                            <span class="accordion-icon text-xl text-slate-400 transform transition-transform duration-300">+</span>
                        </button>
                        <div class="accordion-content p-4 pt-0 bg-slate-900">
                            <ul class="space-y-4">
                                ${category.questions.map(q => `
                                    <li>
                                        <p class="font-bold text-sky-400 text-sm mb-1">${q.q}</p>
                                        <p class="text-slate-300 text-xs"><strong>Justificaci√≥n:</strong> ${q.justification}</p>
                                        <p class="text-slate-300 text-xs"><strong>Requerimiento HASE:</strong> ${q.requirement}</p>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    `;
                    providersAccordionContainer.appendChild(categoryItem);
                });

                document.querySelectorAll('#providers-accordion-container .accordion-header').forEach(button => {
                    button.addEventListener('click', () => {
                        const content = button.nextElementSibling;
                        const icon = button.querySelector('.accordion-icon');
                        const isOpen = content.style.maxHeight;
                        
                        document.querySelectorAll('#providers-accordion-container .accordion-content').forEach(c => c.style.maxHeight = null);
                        document.querySelectorAll('#providers-accordion-container .accordion-icon').forEach(i => i.textContent = '+');
                        
                        if (!isOpen) {
                            content.style.maxHeight = content.scrollHeight + "px";
                            icon.textContent = '-';
                        }
                    });
                });
            }

            const architectureDiagram = document.getElementById('architecture-diagram');
            if (architectureDiagram) {
                architectureDiagram.innerHTML = `
                    <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                        <span class="text-3xl mb-1 text-sky-400">üì°</span>
                        <p class="font-semibold text-sm text-white">Fuentes de Datos</p>
                        <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">GPS, GNV y Consware env√≠an datos hist√≥ricos y en tiempo real.</div>
                    </div>
                    <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                    <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                        <span class="text-3xl mb-1 text-sky-400">üîÑ</span>
                        <p class="font-semibold text-sm text-white">Apache Kafka</p>
                        <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Act√∫a como el bus de eventos central. Ingiere y persiste todos los flujos de datos de forma tolerante a fallos.</div>
                    </div>
                    <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                    <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                        <span class="text-3xl mb-1 text-sky-400">‚ú®</span>
                        <p class="font-semibold text-sm text-white">Apache Flink</p>
                        <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Procesa y enriquece los datos en tiempo real (ej. cruce de placa con ID de financiamiento e Ingenier√≠a de Caracter√≠sticas Avanzada).</div>
                    </div>
                    <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                    <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                        <span class="text-3xl mb-1 text-sky-400">üß†</span>
                        <p class="font-semibold text-sm text-white">Motor HASE</p>
                        <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Calcula el score de riesgo din√°mico (P_default) utilizando modelos de IA (ej. XGBoost, con potencial de h√≠bridos).</div>
                    </div>
                    <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                    <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                        <span class="text-3xl mb-1 text-sky-400">ü§ñ</span>
                        <p class="font-semibold text-sm text-white">PIA: Agente Proactivo</p>
                        <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Recibe triggers de HASE ante anomal√≠as y activa la comunicaci√≥n emp√°tica con el operador v√≠a WhatsApp.</div>
                    </div>
                    <div class="text-slate-400 text-2xl font-bold transform md:rotate-0 rotate-90 mx-2">&rarr;</div>
                    <div class="architecture-node relative flex flex-col items-center text-center p-3 border-2 border-slate-700 rounded-lg bg-slate-800 shadow-sm w-40 h-28 justify-center">
                        <span class="text-3xl mb-1 text-sky-400">üíæ</span>
                        <p class="font-semibold text-sm text-white">TimescaleDB</p>
                        <div class="absolute bottom-full mb-2 w-64 bg-slate-900 text-white text-xs rounded py-2 px-3 opacity-0 invisible transition-opacity duration-300 z-10 border border-slate-700">Base de datos optimizada para almacenar las series temporales de datos operativos y scores de riesgo.</div>
                    </div>
                `;
                
                document.querySelectorAll('.architecture-node').forEach(node => {
                    const tooltip = node.querySelector('div');
                    node.addEventListener('mouseenter', () => {
                        tooltip.classList.remove('invisible');
                        tooltip.classList.add('opacity-100');
                    });
                    node.addEventListener('mouseleave', () => {
                        tooltip.classList.remove('opacity-100');
                        tooltip.classList.add('invisible');
                    });
                });
            }

            const roadmapContainer = document.getElementById('roadmap-container');
            if (roadmapContainer) { 
                roadmapContainer.innerHTML = '';
                appData.roadmap.forEach((item, index) => {
                    const roadmapItem = document.createElement('div');
                    roadmapItem.className = 'roadmap-item cursor-pointer';
                    roadmapItem.innerHTML = `
                        <div class="flex items-center">
                            <div class="flex-shrink-0 w-12 h-12 rounded-full bg-sky-600 text-white flex items-center justify-center font-bold text-lg">${index + 1}</div>
                            <div class="ml-4">
                                <h4 class="text-xl font-bold text-white">${item.phase}</h4>
                                <p class="text-sm text-slate-400">${item.period}</p>
                            </div>
                        </div>
                        <div class="roadmap-content pl-16 mt-2">
                            <p class="text-slate-300"><strong>Objetivo:</strong> ${item.goal}</p>
                            <p class="text-slate-300 mt-1"><strong>Componentes:</strong> ${item.components}</p>
                            <p class="text-slate-300 mt-1"><strong>KPIs de √âxito:</strong> ${item.kpis}</p>
                        </div>
                    `;
                    roadmapContainer.appendChild(roadmapItem);
                });

                document.querySelectorAll('.roadmap-item').forEach(item => {
                    item.addEventListener('click', () => {
                        document.querySelectorAll('.roadmap-item').forEach(i => i.classList.remove('roadmap-item-active'));
                        item.classList.add('roadmap-item-active');
                    });
                });
            }

            const riskGaugeCtx = document.getElementById('riskGaugeChart');
            let riskGaugeChart; 
            if (riskGaugeCtx) {
                riskGaugeChart = new Chart(riskGaugeCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Riesgo', 'Seguridad'],
                        datasets: [{
                            data: [10, 90],
                            backgroundColor: ['#f43f5e', '#34d399'],
                            borderColor: ['#020617'],
                            borderWidth: 4,
                            circumference: 180,
                            rotation: 270,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        aspectRatio: 2,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                backgroundColor: '#1e293b',
                                titleFont: { size: 16, weight: 'bold' },
                                bodyFont: { size: 14 },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += context.parsed.toFixed(0) + '%';
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        cutout: '70%',
                    }
                });
            }

            const gnvSlider = document.getElementById('gnv-slider');
            const rutaSlider = document.getElementById('ruta-slider');
            const proteccionSlider = document.getElementById('proteccion-slider');
            const piaAction = document.getElementById('pia-action');
            const piaActionTitle = piaAction ? piaAction.querySelector('h4') : null;
            const piaActionText = piaAction ? piaAction.querySelector('p') : null;
            
            function updateRiskScore() {
                if (!riskGaugeChart || !gnvSlider || !rutaSlider || !proteccionSlider || !piaActionTitle || !piaActionText) return; 

                const gnvValue = parseInt(gnvSlider.value);
                const rutaValue = parseInt(rutaSlider.value);
                const proteccionValue = parseInt(proteccionSlider.value);

                const gnvScore = ((gnvValue - (-50)) / (10 - (-50))) * 100;
                const rutaScore = 100 - ((rutaValue / 40) * 100);
                const proteccionScore = 100 - ((proteccionValue / 3) * 100);

                const finalScore = (0.5 * (100 - gnvScore)) + (0.3 * (100-rutaScore)) + (0.2 * (100-proteccionScore));
                
                const riskValue = Math.min(100, Math.max(0, finalScore));

                riskGaugeChart.data.datasets[0].data = [riskValue, 100 - riskValue];

                if (riskValue < 20) {
                    riskGaugeChart.data.datasets[0].backgroundColor = ['#34d399', '#1e293b'];
                    piaAction.className = 'mt-4 text-center p-4 rounded-lg w-full transition-all duration-300 bg-emerald-900 text-emerald-300 border border-emerald-700';
                    piaActionTitle.textContent = 'Estado Normal';
                    piaActionText.textContent = 'El operador muestra un comportamiento estable. No se requiere intervenci√≥n.';
                } else if (riskValue < 50) {
                    riskGaugeChart.data.datasets[0].backgroundColor = ['#fbbf24', '#1e293b'];
                     piaAction.className = 'mt-4 text-center p-4 rounded-lg w-full transition-all duration-300 bg-amber-900 text-amber-300 border border-amber-700';
                    piaActionTitle.textContent = 'Alerta Temprana';
                    piaActionText.textContent = 'Se detectan ligeras anomal√≠as. Monitorear de cerca. PIA prepara comunicaci√≥n de seguimiento.';
                } else {
                    riskGaugeChart.data.datasets[0].backgroundColor = ['#f43f5e', '#1e293b'];
                     piaAction.className = 'mt-4 text-center p-4 rounded-lg w-full transition-all duration-300 bg-rose-900 text-rose-300 border border-rose-700';
                    piaActionTitle.textContent = '¬°Riesgo Alto!';
                    piaActionText.textContent = 'Ca√≠da significativa en indicadores. PIA env√≠a mensaje de apoyo para activar "Protecci√≥n Rodando".';
                }

                riskGaugeChart.update();
            }

            if (gnvSlider) gnvSlider.addEventListener('input', updateRiskScore);
            if (rutaSlider) rutaSlider.addEventListener('input', updateRiskScore);
            if (proteccionSlider) proteccionSlider.addEventListener('input', updateRiskScore);
            
            updateRiskScore();


            // Chart for Fleet GNV Trend
            const fleetGnvTrendCtx = document.getElementById('fleetGnvTrendChart');
            if (fleetGnvTrendCtx) {
                new Chart(fleetGnvTrendCtx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['Semana 1', 'Semana 2', 'Semana 3', 'Semana 4', 'Semana 5', 'Semana 6', 'Semana 7', 'Semana 8'],
                        datasets: [{
                            label: 'Consumo Total GNV (Litros)',
                            data: [5000, 5200, 4800, 5500, 4900, 5300, 4700, 5100],
                            borderColor: '#0ea5e9',
                            backgroundColor: 'rgba(14, 165, 233, 0.2)',
                            fill: true,
                            tension: 0.3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: { color: '#94a3b8' }
                            },
                            tooltip: {
                                backgroundColor: '#1e293b',
                                titleFont: { size: 16, weight: 'bold' },
                                bodyFont: { size: 14 },
                                padding: 12,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += context.parsed.y + ' L';
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Per√≠odo',
                                    color: '#94a3b8'
                                },
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Litros de GNV',
                                    color: '#94a3b8'
                                },
                                beginAtZero: true,
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
